<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/style.css">
    <title>Used Manager</title>
</head>
<body>
    <div class="modal" id="printDetails">
        <div style="display:flex;flex-flow:column;padding:40px;">
            <button>Cancel</button>
            <span class="h1">Print Options</span>
            <div class="continueOptions" style="margin-bottom:10px;">
                <span class="h2">Page Header</span>
                <div>
                    <span class="h3">Write your page header below. For red, start with &lt;red> and end with &lt;/red></red></span>
                    <div style="display:flex;flex-flow:column;margin-top:10px;">
                        <input type="text" oninput="this.parentElement.children[1].innerHTML = this.value;localStorage.setItem('pageHeader', `${this.value}`)" value="Example <red>Header</red>" id="pageHeaderInput">
                        <span class="h1">Example <red>Header</red></span>
                    </div>
                </div>
            </div>
            <div class="continueOptions" style="margin-bottom:10px;">
                <span class="h2">Page Footer</span>
                <span class="h3">QR Code</span>
                <input type="text" style="width:100%;" id="footerQRCode" value="https://riverdalemac.us7.list-manage.com/subscribe?u=0cbbf6da8b735d8b8e487283a&id=995d59c804" oninput="window.localStorage.setItem('qrcodelink',this.value)">
                <span class="h3">Text</span>
                <textarea oninput="window.localStorage.setItem('footertext',this.value)" id="footerText" style="resize:vertical;width:100%;">Looking for something else? Sign up to get updates on used products!</textarea>
            </div>
            <button onclick="sendPrint()">Print</button>
        </div>
    </div>
    <div class="modal" id="prodsel">
        <div style="display:flex;flex-flow:column;padding:40px;">
            <button onclick="this.parentElement.parentElement.style.display = 'none';this.parentElement.children[3].children[2].innerHTML = '';this.parentElement.children[2].children[2].innerHTML = '';window.localStorage.removeItem('csProducts')">Cancel</button>
            <span class="h1">Product Selector</span>
            <div class="continueOptions" style="margin-bottom:10px;">
                <span class="h2">Select the products to print</span>
                <div id="manyProdNotice" style="display:none;color:red;border:2px red solid;border-radius:5px;background-color:rgba(255, 0, 0, 0.179);padding:20px;">
                    <span class="h3">If you're printing more than 3 products, consider doing so in multiple groupings.</span>
                </div>
                <div id="productSelector"></div>
            </div>
            <div class="continueOptions" style="margin-bottom:10px;">
                <span class="h2">Review items</span>
                <span class="h3">Items are printed in the order listed below. To re-order, remove and re-add some items.</span>
                <div class="h3" id="csProducts" style="display:flex;flex-flow:column;background-color:rgba(69, 168, 255, 0.3);color:rgb(12, 97, 171);border:1px rgb(12, 97, 171) solid;padding:15px;border-radius:10px;font-family: 'Inter', sans-serif;"></div>
            </div>
            <button onclick="confirmSelectedItems()">Next</button>
        </div>
    </div>
    <span class="h1">Used Manager</span>
    <div class="continueOptions" style="margin-bottom:10px;">
        <span class="h2">Products</span>
        <span id="status">Retrieving from database...</span>
        <textarea id="raw" style="resize:vertical;width:100%;"></textarea>
    </div>
    <div class="continueOptions" style="margin-bottom:10px;">
        <span class="h2">Demo device</span>
        <button>Enter slide view</button>
    </div>
    <div class="continueOptions">
        <span class="h2">Print page</span>
        <button onclick="setupProductSelector()">Select manually</button>
        <!--<button onclick="printUsed('Roncesvalles')">Roncy</button>
        <button onclick="printUsed('BeachMac')">Beach</button>-->
    </div>
    <script src="./assets/script.js"></script>
    <script>window.localStorage.removeItem('csProducts');window.localStorage.setItem('pageHeader', document.getElementById('pageHeaderInput').value);window.localStorage.setItem('qrcodelink', document.getElementById('footerQRCode').value);window.localStorage.setItem('footertext', document.getElementById('footerText').innerHTML);getUsed(true)</script>
</body>
</html>